# =============================================================================
# BYBIT WEBSOCKET STREAMER - КОНФИГУРАЦИЯ
# =============================================================================

# -----------------------------------------------------------------------------
# BYBIT API CREDENTIALS (ОБЯЗАТЕЛЬНО)
# -----------------------------------------------------------------------------
# Получите API ключи на https://www.bybit.com/app/user/api-management
# Необходимые разрешения: Read для Market Data и Contract
BYBIT_API_KEY=cS9MMyZc6Zhg68LDpX
BYBIT_API_SECRET=31807fwlLzl4w6EqVC4grOhfCHTa8CG1TVFE

# -----------------------------------------------------------------------------
# CLICKHOUSE MANAGED SERVICE (ОБЯЗАТЕЛЬНО)
# -----------------------------------------------------------------------------
# Настройки вашего managed ClickHouse сервера
CLICKHOUSE_HOST=rc1d-g6dkct2valdra31u.mdb.yandexcloud.net
CLICKHOUSE_PORT=8443
CLICKHOUSE_DB=db1

# Если нужна аутентификация для ClickHouse (опционально)
CLICKHOUSE_USER=airbureau_user1
CLICKHOUSE_PASSWORD=p2riCUQt746vOLlzgi

# -----------------------------------------------------------------------------
# REDIS НАСТРОЙКИ
# -----------------------------------------------------------------------------
# URL для подключения к Redis (по умолчанию используется Docker контейнер)
#REDIS_URL=redis://localhost:6379/0
#REDIS_URL=redis://host.docker.internal:6379/0
REDIS_URL=redis://redis:6379/0


# -----------------------------------------------------------------------------
# НАСТРОЙКИ ПРОИЗВОДИТЕЛЬНОСТИ
# -----------------------------------------------------------------------------
# Размер батча для вставки в ClickHouse (рекомендуемо: 500-2000)
BATCH_SIZE=500

# Интервал обновления списка символов в секундах (рекомендуемо: 300)
SYMBOL_UPDATE_INTERVAL=300

# Максимальное количество символов на одно WebSocket соединение (рекомендуемо: 100-200)
MAX_SYMBOLS_PER_WS=200

# -----------------------------------------------------------------------------
# ЛОГИРОВАНИЕ И МОНИТОРИНГ
# -----------------------------------------------------------------------------
# Уровень логирования: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Путь к файлу логов
LOG_FILE=bybit_streamer.log

# -----------------------------------------------------------------------------
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# -----------------------------------------------------------------------------
# Таймаут подключения к ClickHouse в секундах
CLICKHOUSE_TIMEOUT=30

# Интервал ping для WebSocket соединений в секундах  
WS_PING_INTERVAL=20

# Таймаут для WebSocket pong ответов в секундах
WS_PONG_TIMEOUT=10

# -----------------------------------------------------------------------------
# ФИЛЬТРЫ СИМВОЛОВ (ОПЦИОНАЛЬНО)
# -----------------------------------------------------------------------------
# Если нужно ограничить только определенными символами, раскомментируйте:
# SYMBOL_FILTER=BTCUSDT,ETHUSDT,ADAUSDT,SOLUSDT,DOGEUSDT

# Минимальный объем торгов за 24ч для включения символа (в USDT)
# MIN_24H_VOLUME=1000000

# -----------------------------------------------------------------------------
# ПРОИЗВОДСТВЕННЫЕ НАСТРОЙКИ
# -----------------------------------------------------------------------------
# Для production среды рекомендуется:
# - Использовать внешний Redis кластер
# - Настроить SSL для ClickHouse
# - Использовать отдельные credentials для каждого сервиса

# Пример для production Redis:
# REDIS_URL=redis://prod-redis-cluster:6379/0

# Пример для production ClickHouse с SSL:
# CLICKHOUSE_HOST=prod-clickhouse.company.com
# CLICKHOUSE_PORT=9440
# CLICKHOUSE_SECURE=true
# CLICKHOUSE_CA_CERTS=/path/to/ca-cert.pem
